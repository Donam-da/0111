<UserControl x:Class="namm.LoyalCustomerView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:namm"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="1000"
             FontFamily="Segoe UI" Loaded="UserControl_Loaded">
    <DockPanel Margin="10">
        <!-- Tiêu đề -->
        <Border DockPanel.Dock="Top" Padding="5" Margin="0,0,0,10" BorderBrush="LightGray" BorderThickness="0,0,0,1">
            <TextBlock Text="THỐNG KÊ KHÁCH HÀNG THÂN THIẾT" 
                       FontSize="20" 
                       FontWeight="Bold" 
                       Foreground="#2E4053" 
                       HorizontalAlignment="Center"/>
        </Border>

        <!-- Bảng dữ liệu -->
        <DataGrid x:Name="dgLoyalCustomers" 
                  AutoGenerateColumns="False" 
                  IsReadOnly="True"
                  CanUserSortColumns="True"
                  GridLinesVisibility="Horizontal"
                  AlternatingRowBackground="#F5F5F5"
                  HorizontalContentAlignment="Center">
            <DataGrid.Resources>
                <!-- Căn giữa cho tiêu đề cột -->
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                </Style>
                <!-- Style để căn giữa nội dung trong các ô -->
                <Style x:Key="CenterCellStyle" TargetType="TextBlock">
                    <Setter Property="HorizontalAlignment" Value="Center" />
                </Style>
            </DataGrid.Resources>
            <DataGrid.Columns>
                <DataGridTextColumn Header="STT" Binding="{Binding STT}" Width="50" ElementStyle="{StaticResource CenterCellStyle}"/>
                <DataGridTextColumn Header="Tên khách hàng" Binding="{Binding CustomerName}" Width="*" ElementStyle="{StaticResource CenterCellStyle}"/>
                <DataGridTextColumn Header="Mã Khách hàng" Binding="{Binding CustomerCode}" Width="150" ElementStyle="{StaticResource CenterCellStyle}"/>
                <DataGridTextColumn Header="Số ĐT" Binding="{Binding PhoneNumber}" Width="120" ElementStyle="{StaticResource CenterCellStyle}"/>
                <DataGridTextColumn Header="Địa chỉ" Binding="{Binding Address}" Width="2*" ElementStyle="{StaticResource CenterCellStyle}"/>
                <DataGridTextColumn Header="Số lần mua" Binding="{Binding PurchaseCount}" Width="100" ElementStyle="{StaticResource CenterCellStyle}"/>
                <DataGridTextColumn Header="Tổng chi tiêu" Binding="{Binding TotalSpent, StringFormat={}{0:N0} VNĐ}" Width="150" SortDirection="Descending" ElementStyle="{StaticResource CenterCellStyle}"/>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</UserControl>